@model IEnumerable<Assignment1.Models.Driver>
@using Newtonsoft.Json

@{
    ViewBag.Title = "Manage";
}

<script type="text/javascript" src="~/Scripts/myScript.js" asp-append-version="true"></script>
<script type="text/javascript">
    var serverDrivers = @Html.Raw(JsonConvert.SerializeObject(Model));

    if (typeof serverDrivers !== "undefined" && serverDrivers.length > 0) {
        localStorage.setItem('drivers', JSON.stringify(serverDrivers));
    }
</script>
<script type="text/javascript">
    var serverVehicles = @Html.Raw(ViewBag.Vehicles ?? "[]");
    if (typeof serverVehicles !== "undefined" && serverVehicles.length > 0) {
        localStorage.setItem('vehicles', JSON.stringify(serverVehicles));
    }
</script>

<!-- Add Driver Modal -->
<div class="modal fade" id="addDriverModal" tabindex="-1" aria-labelledby="addDriverModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addDriverModalLabel">Add Driver</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="driverForm">
                    <div class="mb-3">
                        <label for="gender" class="form-label">Gender</label>
                        <select class="form-control" id="gender" required>
                            <option value="">Select Gender</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="firstName" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="firstName" required>
                    </div>
                    <div class="mb-3">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="lastName" required>
                    </div>
                    <div class="mb-3">
                        <label for="phoneNumber" class="form-label">Phone Number</label>
                        <input type="text" class="form-control" id="phoneNumber" required maxlength="13" value="+27 " />
                        <small class="form-text text-muted">Format: +27 123456789</small>
                    </div>
                    <div class="mb-3">
                        <label for="service" class="form-label">Service</label>
                        <select class="form-control" id="service" required>
                            <option value="">Select Service</option>
                            <option value="ALS(Advanced Life Support)">ALS(Advanced Life Support)</option>
                            <option value="BLS(Basic Life Support)">BLS(Basic Life Support</option>
                            <option value="Patient Transport">Patient Transport</option>
                            <option value="Medical Utility Vehicle">Medical Utility Vehicle</option>
                            <option value="Event Medical Ambulance">Evenet Medical Ambulance</option>
                            <option value=" Air Ambulance">Air Ambulance</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" id="saveDriverBtn">Save Driver</button>
            </div>
        </div>
    </div>
</div>

<div  style="background-color:lightgrey">
    <div class="mx-auto" style="max-width: 600px;">
        <div class="text-center" style="font-size:2rem; color:#555; font-weight:600; font-family:sans-serif;">
            <img src="~/Images/Gear.png" alt="Ambulance" style="width:100px; height:100px" />
            <br />
            Driver and Vehicle Management
        </div>
    </div>
    <br />
    <div class="d-flex justify-content-center">
        <div class="card" style="width:1200px">
            <div class="card-body">
                <div class="row">
                    <div class="col">
                        Drivers
                    </div>
                    <div class="col" style="text-align:right;">
                        <input type="button" name="createDriver" class="btn btn-primary" style="border-radius: 50px; padding: 12px 28px; background-color: #008CBA; " value="Create" data-bs-toggle="modal" data-bs-target="#addDriverModal" />
                    </div>
                </div>
                <input type="text" id="searchName" name="driver" placeholder="Driver Name" />
                <select id="searchService" name="service" class="form-control" style="width:auto;display:inline-block;">
                    <option value="">Service</option>
                    <option value="ALS(Advanced Life Support)">ALS(Advanced Life Support)</option>
                    <option value="BLS(Basic Life Support)">BLS(Basic Life Support)</option>
                    <option value="Patient Transport">Patient Transport</option>
                    <option value="Medical Utility Vehicle">Medical Utility Vehicle</option>
                    <option value="Event Medical Ambulance">Event Medical Ambulance</option>
                    <option value="Air Ambulance">Air Ambulance</option>
                </select>
                <input type="button" id="searchBtn" name="search" class="btn btn-secondary" style="border-radius: 50px; padding: 12px 28px; background-color: #04AA6D; " value="Search" />

                <table class="table" id="myTable">
                    <tr>
                        <th>
                            IMAGE
                        </th>
                        <th>
                            FIRST NAME
                        </th>
                        <th>
                            LAST NAME
                        </th>
                        <th>
                            PHONE NUMBER
                        </th>
                        <th>
                            SERVICE
                        </th>
                        <th colspan="2">
                            CONTROLS
                        </th>
                        <th></th>
                    </tr>


                </table>


            </div>
        </div>
    </div>
    <br />
    <div class="d-flex justify-content-center">
        <div class="card" style="width:1200px">
            <div class="card-body">
                <div class="row">
                    <div class="col">
                        Vehicles
                    </div>
                    <div class="col" style="text-align:right;">
                        <input type="button" name="createVehicle" class="btn btn-primary" style="border-radius: 50px; padding: 12px 28px; background-color: #008CBA; "  value="Create" data-bs-toggle="modal" data-bs-target="#addVehicleModal"  />
                    </div>
                </div>
                <div class="modal fade" id="addVehicleModal" tabindex="-1" aria-labelledby="addVehicleModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="addVehicleModalLabel">Add Vehicle</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form id="vehicleForm">
                                    <div class="mb-3">
                                        <label for="vehicleType" class="form-label">Type</label>
                                        <input type="text" class="form-control" id="vehicleType" required>
                                    </div>
                                    <div class="mb-3">
                                        <label for="vehicleRegistration" class="form-label">Registration</label>
                                        <input type="text" class="form-control" id="vehicleRegistration" required pattern="[A-Za-z]{3}[0-9]{3}" maxlength="6" title="3 letters followed by 3 numbers, e.g. ABC123">
                                    </div>
                                    <div class="mb-3">
                                        <label for="vehicleService" class="form-label">Service</label>
                                        <select class="form-control" id="vehicleService" required>
                                            <option value="">Select Service</option>
                                            <option value="ALS(Advanced Life Support)">ALS(Advanced Life Support)</option>
                                            <option value="BLS(Basic Life Support)">BLS(Basic Life Support)</option>
                                            <option value="Patient Transport">Patient Transport</option>
                                            <option value="Medical Utility Vehicle">Medical Utility Vehicle</option>
                                            <option value="Event Medical Ambulance">Event Medical Ambulance</option>
                                            <option value="Air Ambulance">Air Ambulance</option>
                                        </select>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                                <button type="button" class="btn btn-primary" id="saveVehicleBtn">Save Vehicle</button>
                            </div>
                        </div>
                    </div>
                </div>
                <table class="table" id="myVehicle">
                    <tr>
                        <th>
                            IMAGE
                        </th>
                        <th>
                            FIRST NAME
                        </th>
                        <th>
                            LAST NAME
                        </th>
                        <th>
                            SERVICE
                        </th>
                        <th>
                            CONTROLS
                        </th>
                    </tr>
                </table>
                <div style="text-align:right;">
                    <input type="button" id="exportVehicleBtn"name="export" class="btn btn-secondary" style="border-radius: 50px; padding: 12px 28px; background-color: #04AA6D; " value="Export" />
                </div>
            </div>
        </div>
    </div>
</div>
<br/>

